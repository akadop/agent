<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>AWS S3 Configuration | DBacked</title>
    <meta name="description" content="The best way to backup and restore your database">
    
    
    <link rel="preload" href="/agent/assets/css/0.styles.9752ec72.css" as="style"><link rel="preload" href="/agent/assets/js/app.387ed4ed.js" as="script"><link rel="preload" href="/agent/assets/js/11.f886c21f.js" as="script"><link rel="prefetch" href="/agent/assets/js/4.ba951e54.js"><link rel="prefetch" href="/agent/assets/js/2.f18bfe2d.js"><link rel="prefetch" href="/agent/assets/js/3.55eb84a6.js"><link rel="prefetch" href="/agent/assets/js/5.ecdcf9b4.js"><link rel="prefetch" href="/agent/assets/js/6.fe71ab62.js"><link rel="prefetch" href="/agent/assets/js/7.8c25350b.js"><link rel="prefetch" href="/agent/assets/js/8.58eecb8d.js"><link rel="prefetch" href="/agent/assets/js/9.b134640f.js"><link rel="prefetch" href="/agent/assets/js/10.74b12e49.js"><link rel="prefetch" href="/agent/assets/js/12.a515b37d.js"><link rel="prefetch" href="/agent/assets/js/13.27cb3a82.js">
    <link rel="stylesheet" href="/agent/assets/css/0.styles.9752ec72.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/agent/" class="home-link router-link-active"><!----> <span class="site-name">DBacked</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/agent/" class="nav-link">Home</a></div><div class="nav-item"><a href="/agent/guide/" class="nav-link router-link-active">Guide</a></div><div class="nav-item"><a href="https://github.com/dbacked/agent" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/agent/" class="nav-link">Home</a></div><div class="nav-item"><a href="/agent/guide/" class="nav-link router-link-active">Guide</a></div><div class="nav-item"><a href="https://github.com/dbacked/agent" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Guide</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/agent/guide/" class="sidebar-link">Introduction</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/agent/guide/#what-s-inside" class="sidebar-link">What's inside?</a></li><li class="sidebar-sub-header"><a href="/agent/guide/#why-not-x" class="sidebar-link">Why not X?</a></li></ul></li><li><a href="/agent/guide/getting-started.html" class="sidebar-link">Getting started</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/agent/guide/getting-started.html#interactive-installation" class="sidebar-link">Interactive installation</a></li><li class="sidebar-sub-header"><a href="/agent/guide/getting-started.html#docker" class="sidebar-link">Docker</a></li><li class="sidebar-sub-header"><a href="/agent/guide/getting-started.html#manual-compilation-and-installation" class="sidebar-link">Manual compilation and installation</a></li></ul></li><li><a href="/agent/guide/restore.html" class="sidebar-link">Restore a backup</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/agent/guide/restore.html#restore-specific-flags" class="sidebar-link">Restore specific flags</a></li></ul></li><li><a href="/agent/guide/configuration.html" class="sidebar-link">Configuration</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/agent/guide/configuration.html#agent-config" class="sidebar-link">Agent config</a></li><li class="sidebar-sub-header"><a href="/agent/guide/configuration.html#security-config" class="sidebar-link">Security config</a></li><li class="sidebar-sub-header"><a href="/agent/guide/configuration.html#aws-s3-config" class="sidebar-link">AWS S3 config</a></li><li class="sidebar-sub-header"><a href="/agent/guide/configuration.html#database-config" class="sidebar-link">Database config</a></li><li class="sidebar-sub-header"><a href="/agent/guide/configuration.html#misc" class="sidebar-link">Misc</a></li></ul></li><li><a href="/agent/guide/s3-configuration.html" class="active sidebar-link">AWS S3 Configuration</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/agent/guide/s3-configuration.html#creating-a-dedicated-iam-key" class="sidebar-link">Creating a dedicated IAM key</a></li></ul></li><li><a href="/agent/guide/security.html" class="sidebar-link">Security</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/agent/guide/security.html#encryption" class="sidebar-link">Encryption</a></li><li class="sidebar-sub-header"><a href="/agent/guide/security.html#integrity-check" class="sidebar-link">Integrity check</a></li><li class="sidebar-sub-header"><a href="/agent/guide/security.html#dump-program-monitoring" class="sidebar-link">Dump program monitoring</a></li><li class="sidebar-sub-header"><a href="/agent/guide/security.html#email-alerts" class="sidebar-link">Email alerts</a></li><li class="sidebar-sub-header"><a href="/agent/guide/security.html#what-s-sent-to-dbacked-servers" class="sidebar-link">What's sent to DBacked servers?</a></li></ul></li><li><a href="/agent/guide/implementation-details.html" class="sidebar-link">Implementation details</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/agent/guide/implementation-details.html#scheduler-implementation" class="sidebar-link">Scheduler implementation</a></li><li class="sidebar-sub-header"><a href="/agent/guide/implementation-details.html#backup-process" class="sidebar-link">Backup process</a></li><li class="sidebar-sub-header"><a href="/agent/guide/implementation-details.html#restore-process" class="sidebar-link">Restore process</a></li><li class="sidebar-sub-header"><a href="/agent/guide/implementation-details.html#backup-file-format" class="sidebar-link">Backup file format</a></li></ul></li><li><a href="/agent/guide/pro.html" class="sidebar-link">DBacked Pro</a></li><li><a href="/agent/guide/todo.html" class="sidebar-link">Roadmap</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="aws-s3-configuration"><a href="#aws-s3-configuration" aria-hidden="true" class="header-anchor">#</a> AWS S3 Configuration</h1> <p>This page is only useful if you are using DBacked Free as the Pro version take care of this for you.</p> <p>When using DBacked Free you need a Amazon Web Services account to store your backups on <a href="https://aws.amazon.com/s3/" target="_blank" rel="noopener noreferrer">S3<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. AWS S3 provides a free-tier: 5 GB of Amazon S3 storage in the Standard Storage class, 20,000 Get Requests, 2,000 Put Requests, and 15 GB of data transfer out each month for one year. After this, you'll be billed according to what's on their <a href="https://aws.amazon.com/s3/pricing/" target="_blank" rel="noopener noreferrer">pricing<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> page.</p> <p>You first need to create a new S3 bucket, you can refer to <a href="https://docs.aws.amazon.com/quickstarts/latest/s3backup/step-1-create-bucket.html" target="_blank" rel="noopener noreferrer">their tutorial on how to create a S3 bucket<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>To allow the DBacked agent to manage this bucket, you need to create a set of credentials.</p> <h2 id="creating-a-dedicated-iam-key"><a href="#creating-a-dedicated-iam-key" aria-hidden="true" class="header-anchor">#</a> Creating a dedicated IAM key</h2> <p>You need to create a IAM user with programmatic access. Its name doesn't matter but you should make use something that is recognizable. Refer to their <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_create.html#id_users_create_console" target="_blank" rel="noopener noreferrer">tutorial about creating a IAM user<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>This new user permissions should be restricted to the bucket you created to prevent problems if the key is leaked. The basic policy is declared like this:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;Version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2012-10-17&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Statement&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Sid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;VisualEditor0&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Effect&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Allow&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Action&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;s3:PutObject&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;s3:GetObject&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;s3:AbortMultipartUpload&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;s3:ListBucket&quot;</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Resource&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;arn:aws:s3:::YOUR_BUCKET_NAME&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;arn:aws:s3:::YOUR_BUCKET_NAME/*&quot;</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Effect&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Allow&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Action&quot;</span><span class="token operator">:</span> <span class="token string">&quot;s3:HeadBucket&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Resource&quot;</span><span class="token operator">:</span> <span class="token string">&quot;arn:aws:s3:::*&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>This policy will also prevent this key to delete any file in the bucket.</p></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">8/29/2018, 4:05:29 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/agent/guide/configuration.html" class="prev">
          Configuration
        </a></span> <span class="next"><a href="/agent/guide/security.html">
          Security
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/agent/assets/js/11.f886c21f.js" defer></script><script src="/agent/assets/js/app.387ed4ed.js" defer></script>
  </body>
</html>
